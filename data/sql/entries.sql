CREATE TYPE E_ENTRY_REASON
AS
ENUM('PERSONAL USE', 'AT SERVICE CENTER', 'WFH', 'RETURNED', 'TESTING');

CREATE TABLE entries (
    id SERIAL PRIMARY KEY, 
    user_id INTEGER REFERENCES users(id) ON DELETE SET NULL,
    device_id INTEGER REFERENCES devices(id) ON DELETE SET NULL,
    reason E_ENTRY_REASON DEFAULT 'WFH',
    rented_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    returned_at TIMESTAMP DEFAULT NULL
);